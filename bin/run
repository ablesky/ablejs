#!/usr/bin/env node

'use strict';

process.title = 'the statics build tools for ablesky';

// Nodejs libs.
var path = require('path');

// internal libs.
var log = require('../lib/utils/log');
var argv = require('../lib/utils/argv');

argv.init(process.argv);

var colorMode = 'console';
switch (argv.get('colors')) {
    case null:
        colorMode = 'none';
        break;
    case 'browser':
        colorMode = 'browser';
        break;
    default:
        colorMode = 'console';
}

log.setColorMode(colorMode);

var basedir = path.resolve(__dirname + '/../');
require('../node_modules/grunt/lib/grunt').cli({
    base: basedir,
    gruntfile: path.join(basedir, 'Gruntfile.js')
});

process.on('exit', function(argument) {
    // body...
});